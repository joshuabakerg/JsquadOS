inputTable = {
  home = {
    joshua = {
      backup = {
        [ "backup(linuxFileSystem)" ] = "inputTable = {\
  home = {\
    joshua = {\
      Backup = {},\
      Desktop = {},\
    },\
  },\
  startup = \"os.loadAPI(\\\"/bin/api/enc\\\")\\\
shell.run(\\\"/boot/JsquadOS.lua\\\")\",\
  etc = {\
    [ \"jos.cfg\" ] = \"\",\
  },\
  tmp = {\
    clipBoardContentsName = \"usr\",\
    clipBoardContents = {\
      bin = {\
        [ \"Explorer.lua\" ] = \"function editTool(dir)\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"Open in new tab\\\")\\\
	print(\\\"Open with..\\\")\\\
	print(\\\"Copy\\\")\\\
	print(\\\"Cut\\\")\\\
	print(\\\"Paste\\\")\\\
	print(\\\"Delete\\\")\\\
	print(\\\"Edit\\\")\\\
	print(\\\"Rename\\\")\\\
	print(\\\"Create File\\\")\\\
	print(\\\"Create Folder\\\")\\\
	local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
	if (xPos > 0 and xPos <= 15) and (yPos == 1) then              --open in new tab\\\
		print(shell.resolve(dir))\\\
		sleep(1)\\\
        shell.openTab(dir)\\\
        print(\\\"after open\\\")\\\
		sleep(2)\\\
	elseif (xPos > 0 and xPos <= 15) and (yPos == 2) then          --open with..\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"Please enter program: \\\")\\\
		local sProg = read()\\\
		write(\\\"Please enter extra params: \\\")\\\
		local exParams = read()\\\
			shell.run(\\\"/Programs/\\\"..sProg..\\\" \\\" ..dir..\\\" \\\"..exParams)\\\
  elseif (xPos > 0 and xPos < 5) and (yPos == 3) then             --copy\\\
	  if fs.exists(\\\"/tmp/clipBoardContents\\\") then\\\
	     fs.delete(\\\"/tmp/clipBoardContents\\\")\\\
	  end\\\
	  if fs.exists(\\\"/tmp/clipBoardContentsName\\\") then\\\
	     fs.delete(\\\"/tmp/clipBoardContentsName\\\")\\\
	  end\\\
	  fs.copy(shell.resolve(dir),\\\"/tmp/clipBoardContents\\\")\\\
	  local tFile = fs.open(\\\"/tmp/clipBoardContentsName\\\",\\\"w\\\")\\\
	  tFile.write(dir)\\\
	  tFile.close()  \\\
	elseif (xPos > 0 and xPos < 5) and (yPos == 4) then              --cut\\\
	  if fs.exists(\\\"/tmp/clipBoardContents\\\") then\\\
       fs.delete(\\\"/tmp/clipBoardContents\\\")\\\
    end\\\
    if fs.exists(\\\"/tmp/clipBoardContentsName\\\") then\\\
       fs.delete(\\\"/tmp/clipBoardContentsName\\\")\\\
    end\\\
    fs.copy(shell.resolve(dir),\\\"/tmp/clipBoardContents\\\")\\\
    fs.delete(shell.dir()..\\\"/\\\"..dir)\\\
    local tFile = fs.open(\\\"/tmp/clipBoardContentsName\\\",\\\"w\\\")\\\
    tFile.write(dir)\\\
    tFile.close()  \\\
	elseif (xPos > 0 and xPos < 6) and (yPos == 5) then              --paste\\\
	  local tFile = fs.open(\\\"/tmp/clipBoardContentsName\\\",\\\"r\\\")\\\
	  fs.copy(\\\"/tmp/clipBoardContents\\\",shell.dir()..\\\"/\\\"..tFile.readAll())\\\
	  tFile.close()\\\
		\\\
	elseif (xPos > 0 and xPos < 7) and (yPos == 6) then              --delete\\\
		fs.delete(shell.dir()..\\\"/\\\"..dir)\\\
	elseif (xPos > 0 and xPos <= 4) and (yPos == 7) then             --edit\\\
        shell.run(\\\"edit \\\" ..dir)\\\
	elseif (xPos > 0 and xPos <= 6) and (yPos == 8) then             --rename\\\
        local orgF = shell.resolve(dir)\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"Rename from \\\"..dir..\\\" to:\\\")\\\
		local newF = shell.resolve(read())\\\
		fs.move(orgF,newF)\\\
	elseif (xPos > 0 and xPos <= 11) and (yPos == 9) then            --create file\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"File Name:\\\")\\\
		local myFile = fs.open(shell.dir()..\\\"/\\\"..read(),\\\"w\\\")\\\
		myFile.close()\\\
		\\\
	elseif (xPos > 0 and xPos <= 13) and (yPos == 10) then           --create folder\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"Name:\\\")\\\
		fs.makeDir(shell.dir()..\\\"/\\\"..read())\\\
    end\\\
\\\
end\\\
\\\
function explorer()\\\
while true do\\\
    n = 0\\\
    term.clear()\\\
    term.setCursorPos(1,1)\\\
    local FileList = fs.list(shell.dir()) \\\
    for i, file in ipairs(FileList) do\\\
  if fs.isDir(shell.resolve(file)) then\\\
    term.setTextColor(colors.yellow)\\\
  else\\\
    term.setTextColor(colors.white)\\\
  end\\\
        print(file)\\\
        aList[i] = file\\\
        n = i\\\
        if i == 16 then\\\
            break\\\
        end\\\
    end\\\
    term.setTextColor(colors.white)\\\
        \\\
\\\
    print(\\\"/\\\")\\\
    print(\\\"X\\\")\\\
    n = n+1;\\\
    aList[n] = \\\"..\\\";\\\
    n = n+1;\\\
    aList[n] = \\\"X\\\";\\\
    \\\
    local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
  if button == 1 then\\\
    if aList[yPos] ~= nil then\\\
      if aList[yPos] == \\\"X\\\" then\\\
        break\\\
      elseif aList[yPos] == \\\"..\\\" then\\\
        shell.run(\\\"cd \\\"..aList[yPos])\\\
      end\\\
      if fs.isDir(shell.resolve(aList[yPos])) and aList[yPos] ~= \\\"..\\\" then\\\
        shell.run(\\\"cd \\\"..aList[yPos]) \\\
      end \\\
      if task ~= nil then\\\
          shell.run(task ..\\\" \\\"..aList[yPos])\\\
      else\\\
        shell.run(aList[yPos])\\\
      end\\\
    end\\\
  elseif button == 2 then\\\
    if aList[yPos] ~= nil then\\\
      if (aList[yPos] ~= \\\"X\\\") and (aList[yPos] ~= \\\"/\\\") then\\\
        editTool(aList[yPos])\\\
      end\\\
    end\\\
  end\\\
end\\\
end\\\
explorer()\",\
        Compress = \"--[[\\\
	Filesystem\\\
	explorer\\\
	by Creator\\\
]]--\\\
local args = {...}\\\
\\\
local filesystem = {}\\\
\\\
local function readFile(path)\\\
	local file = fs.open(path,\\\"r\\\")\\\
	local variable = file.readAll()\\\
	file.close()\\\
	return variable\\\
end\\\
\\\
local function explore(dir)\\\
	local buffer = {}\\\
	local sBuffer = fs.list(dir)\\\
	for i,v in pairs(sBuffer) do\\\
		sleep(0.05)\\\
		if fs.isDir(dir..\\\"/\\\"..v) then\\\
			if v ~= \\\".git\\\" and v ~= \\\"rom\\\" then\\\
				print(\\\"Compressing directory: \\\"..dir..\\\"/\\\"..v)\\\
				buffer[v] = explore(dir..\\\"/\\\"..v)\\\
			end\\\
		else\\\
			print(\\\"Compressing file: \\\"..dir..\\\"/\\\"..v)\\\
			buffer[v] = readFile(dir..\\\"/\\\"..v)\\\
		end\\\
	end\\\
	return buffer\\\
end\\\
\\\
append = [[\\\
local function writeFile(path,content)\\\
	local file = fs.open(path,\\\"w\\\")\\\
	file.write(content)\\\
	file.close()\\\
end\\\
function writeDown(input,dir)\\\
		for i,v in pairs(input) do\\\
		if type(v) == \\\"table\\\" then\\\
			writeDown(v,dir..\\\"/\\\"..i)\\\
		elseif type(v) == \\\"string\\\" then\\\
			writeFile(dir..\\\"/\\\"..i,v)\\\
		end\\\
	end\\\
end\\\
\\\
args = {...}\\\
if #args == 0 then\\\
	print(\\\"Please input a destination folder.\\\")\\\
else\\\
	writeDown(inputTable,args[1])\\\
end\\\
\\\
]]\\\
\\\
local filesystem = explore(args[1])\\\
local file = fs.open(args[2],\\\"w\\\")\\\
file.write(\\\"inputTable = \\\"..textutils.serialize(filesystem)..\\\"\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\"..append)\\\
file.close()\",\
        Share = \"local tArgs = { ... }\\\
\\\
rednet.open(\\\"left\\\")\\\
receiverID = \\\"\\\"\\\
sendContents = \\\"\\\"\\\
receiveName = \\\"\\\"\\\
fileName = \\\"\\\"\\\
\\\
\\\
function Menu()\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"send file\\\")\\\
	print(\\\"receive file\\\")\\\
	local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
	if (yPos == 1) then\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		print(\\\"Enter file to send\\\")\\\
		tArgs[1] = read()\\\
		print(\\\"Enter receiver ID\\\") 	\\\
		receiverID = read()\\\
	end\\\
	if (yPos == 2) then\\\
		receive()	\\\
	end\\\
\\\
end\\\
\\\
function send()\\\
	print(\\\"In send function\\\")\\\
	local sIDs , sMssge , sDst = \\\"\\\"\\\
	local myFileS = fs.open(shell.resolve(tArgs[1]),\\\"r\\\")\\\
	sendContents = myFileS.readAll()\\\
	myFileS.close()\\\
	while true do \\\
		rednet.send(tonumber(receiverID),sendContents)\\\
		print(\\\"send attempted\\\")\\\
		sIDs,sMssge,sDst = rednet.receive(4)\\\
		if sIDs == tonumber(receiverID) and sMssge == \\\"Successful\\\" then\\\
			print(\\\"Successful\\\")\\\
			sleep(1)\\\
			break\\\
		end\\\
		\\\
	end\\\
end\\\
\\\
function receive()\\\
	local myFileR = fs.open(shell.dir()..\\\"/\\\"..\\\"temp\\\",\\\"w\\\")\\\
	local sID ,sMssge, sDst = rednet.receive()\\\
	myFileR.write(sMssge)\\\
	myFileR.close()\\\
	sleep(2)\\\
	rednet.send(tonumber(sID),\\\"Successful\\\")\\\
end\\\
\\\
if #tArgs > 0 then\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"enter receiver id\\\")\\\
	receiverID = read()	\\\
	send()\\\
end\\\
if #tArgs == 0 then\\\
	Menu()\\\
end\",\
        pastyBin = \"key = \\\"\\\"\\\
devKey = \\\"\\\"\\\
userName = \\\"\\\"\\\
password = \\\"\\\"\\\
function login()\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"Logging in..\\\")\\\
	local response = http.post(\\\
		\\\"http://pastebin.com/api/api_login.php\\\",\\\
		\\\"api_dev_key=\\\".. textutils.urlEncode(devKey)..\\\
		\\\"&api_user_name=\\\"..textutils.urlEncode(userName)..\\\
		\\\"&api_user_password=\\\"..textutils.urlEncode(password)\\\
	)\\\
	key = response.readAll()\\\
end\\\
function getPrograms()\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"Downloading pastebin list..\\\")\\\
	response = http.post(\\\
		\\\"http://pastebin.com/api/api_post.php\\\",\\\
		\\\"api_option=list\\\"..\\\
		\\\"&api_dev_key=\\\"..textutils.urlEncode(devKey)..\\\
		\\\"&api_user_key=\\\"..textutils.urlEncode(key)..\\\
		\\\"&api_results_limit=100\\\"\\\
	)\\\
	line = response.readAll()\\\
    local lsPrograms = {}                   -- table to store the indices\\\
    local i = 0\\\
	local e = 0\\\
	while true do\\\
		i,e = string.find(line,\\\"<paste_title>\\\",i+1)\\\
		if i == nil then break end\\\
		sWord = line:sub(e+1,string.find(line,\\\"</paste_title>\\\",i+1)-1)\\\
		table.insert(lsPrograms, sWord)\\\
	end\\\
	i = 0\\\
	e = 0\\\
	count = 1 \\\
    while true do\\\
    i,e = string.find(line, \\\"<paste_key>\\\", i+1)    -- find 'next' newline\\\
      if i == nil then break end\\\
      lsPrograms[count] = lsPrograms[count] ..\\\",\\\"..line:sub(e+1,e+8)\\\
	  count = count +1\\\
    end\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	aListName = {}\\\
	aListPastebinCode = {}\\\
	i = 1\\\
	while true do\\\
		if lsPrograms[i] == nil then\\\
			break\\\
		end\\\
		aListName[i] = lsPrograms[i]:sub(1, string.find(lsPrograms[i],\\\",\\\")-1)\\\
		aListPastebinCode[i] = lsPrograms[i]:sub(string.find(lsPrograms[i],\\\",\\\")+1 , string.len(lsPrograms[i]))\\\
		print(aListName[i])\\\
		i = i + 1\\\
		\\\
	end\\\
	local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
	if aListName[yPos] ~= null then\\\
		shell.run(\\\"pastebin get \\\" ..aListPastebinCode[yPos] ..\\\" \\\"..aListName[yPos])\\\
	end\\\
	\\\
end\\\
function putProgram()\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	write(\\\"Please enter program path\\\")\\\
	sPath = io.read()\\\
	local sName = fs.getName( sPath )\\\
	if fs.exists(sPath) then\\\
		local file = fs.open( sPath, \\\"r\\\" )\\\
		local sText = file.readAll()\\\
		file.close()\\\
		send = \\\"api_option=paste&api_dev_key=\\\"..textutils.urlEncode(devKey)..\\\"&api_paste_code=\\\"..textutils.urlEncode(sText)..\\\"&api_paste_private=1&api_paste_name=\\\"..textutils.urlEncode(sName)..\\\"&api_paste_expire_date=N&api_user_key=\\\"..textutils.urlEncode(key)\\\
		local response = http.post(\\\"http://pastebin.com/api/api_post.php\\\",send)\\\
		print(response)\\\
		sleep(2)\\\
	end\\\
	\\\
end\\\
function interface()\\\
	myFile = null\\\
	if not fs.exists(shell.dir()..\\\"/pastyLogin.cfg\\\") then\\\
		myFile = fs.open(shell.dir()..\\\"/pastyLogin.cfg\\\",\\\"w\\\")\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"Please enter username: \\\")\\\
		userName = io.read()\\\
		write(\\\"Please enter password: \\\")\\\
		password = io.read()\\\
		write(\\\"Please enter dev api key : \\\")\\\
		devKey = io.read()\\\
		myFile.writeLine(userName)\\\
		myFile.writeLine(password)\\\
		myFile.writeLine(devKey)\\\
	else \\\
		myFile = fs.open(shell.dir()..\\\"/pastyLogin.cfg\\\",\\\"r\\\")\\\
		userName = myFile.readLine()\\\
		lol = myFile.readLine\\\
		password = myFile.readLine()\\\
		devKey = myFile.readLine()\\\
	end\\\
	myFile.close()\\\
	\\\
	while true do\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		print(\\\"Login\\\")\\\
		print(\\\"View pastes\\\")\\\
		print(\\\"Upload paste\\\")	\\\
		print(\\\"Exit\\\")\\\
		local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
		if yPos == 1 then\\\
			login()\\\
		end\\\
		if yPos == 2 then\\\
			getPrograms()\\\
		end\\\
		if yPos == 3 then\\\
			putProgram()\\\
		end\\\
		if yPos == 4 then\\\
			break\\\
		end\\\
	end\\\
end\\\
\\\
if fs.exists(shell.resolve(\\\"pastyLogin.cfg\\\")) then\\\
	login()\\\
end\\\
interface()\",\
        [ \"pastyLogin.cfg\" ] = \"Jsquad11\\\
wesfzxc\\\
0cb985004bff870df555601089560890\",\
        SendFile = \"print(\\\"enter the name of file\\\")\\\
file = read()\\\
print(\\\"enter ID\\\")\\\
id = read()\\\
\\\
local file = fs.open(file, \\\"r\\\")\\\
file = file.readAll()\\\
fileContents = textutils.serialize(file)\\\
rednet.open(\\\"back\\\")\\\
id = tonumber(id)\\\
rednet.send(id, fileContents)\",\
      },\
    },\
  },\
  bin = {\
    api = {\
      enc = \"local function zfill(N)\\\
	N=string.format(\\\"%X\\\",N)\\\
	Zs=\\\"\\\"\\\
	if #N==1 then\\\
		Zs=\\\"0\\\"\\\
	end\\\
	return Zs..N\\\
end\\\
\\\
local function serializeImpl(t)	\\\
	local sType = type(t)\\\
	if sType == \\\"table\\\" then\\\
		local lstcnt=0\\\
		for k,v in pairs(t) do\\\
			lstcnt = lstcnt + 1\\\
		end\\\
		local result = \\\"{\\\"\\\
		local aset=1\\\
		for k,v in pairs(t) do\\\
			if k==aset then\\\
				result = result..serializeImpl(v)..\\\",\\\"\\\
				aset=aset+1\\\
			else\\\
				result = result..(\\\"[\\\"..serializeImpl(k)..\\\"]=\\\"..serializeImpl(v)..\\\",\\\")\\\
			end\\\
		end\\\
		result = result..\\\"}\\\"\\\
		return result\\\
	elseif sType == \\\"string\\\" then\\\
		return string.format(\\\"%q\\\",t)\\\
	elseif sType == \\\"number\\\" or sType == \\\"boolean\\\" or sType == \\\"nil\\\" then\\\
		return tostring(t)\\\
	elseif sType == \\\"function\\\" then\\\
		local status,data=pcall(string.dump,t)\\\
		if status then\\\
			return 'func('..string.format(\\\"%q\\\",data)..')'\\\
		else\\\
			error()\\\
		end\\\
	else\\\
		error()\\\
	end\\\
end\\\
\\\
local function split(T,func)\\\
	if func then\\\
		T=func(T)\\\
	end\\\
	local Out={}\\\
	if type(T)==\\\"table\\\" then\\\
		for k,v in pairs(T) do\\\
			Out[split(k)]=split(v)\\\
		end\\\
	else\\\
		Out=T\\\
	end\\\
	return Out\\\
end\\\
\\\
local function serialize( t )\\\
	t=split(t)\\\
	return serializeImpl( t, tTracking )\\\
end\\\
\\\
local function unserialize( s )\\\
	local func, e = loadstring( \\\"return \\\"..s, \\\"serialize\\\" )\\\
	local funcs={}\\\
	if not func then\\\
		return e\\\
	end\\\
	setfenv( func, {\\\
		func=function(S)\\\
			local new={}\\\
			funcs[new]=S\\\
			return new\\\
		end,\\\
	})\\\
	return split(func(),function(val)\\\
		if funcs[val] then\\\
			return loadstring(funcs[val])\\\
		else\\\
			return val\\\
		end\\\
	end)\\\
end\\\
\\\
local function sure(N,n)\\\
	if (l2-n)<1 then N=\\\"0\\\" end\\\
	return N\\\
end\\\
\\\
local function splitnum(S)\\\
	Out=\\\"\\\"\\\
	for l1=1,#S,2 do\\\
		l2=(#S-l1)+1\\\
		CNum=tonumber(\\\"0x\\\"..sure(string.sub(S,l2-1,l2-1),1) .. sure(string.sub(S,l2,l2),0))\\\
		Out=string.char(CNum)..Out\\\
	end\\\
	return Out\\\
end\\\
\\\
local function wrap(N)\\\
	return N-(math.floor(N/256)*256)\\\
end\\\
\\\
function checksum(S,num)\\\
	local sum=0\\\
	for char in string.gmatch(S,\\\".\\\") do\\\
		for l1=1,(num or 1) do\\\
			math.randomseed(string.byte(char)+sum)\\\
			sum=sum+math.random(0,9999)\\\
		end\\\
	end\\\
	math.randomseed(sum)\\\
	return sum\\\
end\\\
\\\
local function genkey(len,psw)\\\
	checksum(psw)\\\
	local key={}\\\
	local tKeys={}\\\
	for l1=1,len do\\\
		local num=math.random(1,len)\\\
		while tKeys[num] do\\\
			num=math.random(1,len)\\\
		end\\\
		tKeys[num]=true\\\
		key[l1]={num,math.random(0,255)}\\\
	end\\\
	return key\\\
end\\\
\\\
function encrypt(data,psw)\\\
	data=serialize(data)\\\
	local chs=checksum(data)\\\
	local key=genkey(#data,psw)\\\
	local out={}\\\
	local cnt=1\\\
	for char in string.gmatch(data,\\\".\\\") do\\\
		table.insert(out,key[cnt][1],zfill(wrap(string.byte(char)+key[cnt][2])),chars)\\\
		cnt=cnt+1\\\
	end\\\
	return string.sub(serialize({chs,table.concat(out)}),2,-3)\\\
end\\\
\\\
function decrypt(data,psw)\\\
	local oData=data\\\
	data=unserialize(\\\"{\\\"..data..\\\"}\\\")\\\
	if type(data)~=\\\"table\\\" then\\\
		return oData\\\
	end\\\
	local chs=data[1]\\\
	data=data[2]\\\
	local key=genkey((#data)/2,psw)\\\
	local sKey={}\\\
	for k,v in pairs(key) do\\\
		sKey[v[1]]={k,v[2]}\\\
	end\\\
	local str=splitnum(data)\\\
	local cnt=1\\\
	local out={}\\\
	for char in string.gmatch(str,\\\".\\\") do\\\
		table.insert(out,sKey[cnt][1],string.char(wrap(string.byte(char)-sKey[cnt][2])))\\\
		cnt=cnt+1\\\
	end\\\
	out=table.concat(out)\\\
	if checksum(out or \\\"\\\")==chs then\\\
		return unserialize(out)\\\
	end\\\
	return oData,out,chs\\\
end\",\
    },\
  },\
  boot = {\
    [ \"JsquadOS.lua\" ] = \"aList = {}\\\
jsquadosPastebinCode = \\\"w93AaBmB\\\";\\\
josVersion = \\\"v1.01\\\"\\\
\\\
function settings()\\\
  term.clear()\\\
  term.setCursorPos(1,1)\\\
  print(\\\"Set default apps\\\")\\\
  print(\\\"exit\\\")\\\
  \\\
  local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
 \\\
end\\\
\\\
function MainMenuBtns()\\\
DrawMainMenu()\\\
while true do\\\
    local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
\\\
    if (xPos > 17 and xPos < 25) and (yPos == 1) then \\\
        Explorer()\\\
        DrawMainMenu()\\\
    end\\\
\\\
    if (xPos > 15 and xPos < 28) and (yPos == 2) then \\\
        print(\\\"Enter a program\\\")\\\
        shell.openTab(read())\\\
        DrawMainMenu()\\\
    end\\\
\\\
    if (xPos > 18 and xPos < 31) and (yPos == 3) then\\\
		settings()\\\
		DrawMainMenu()\\\
    end\\\
    if (xPos > 20 and xPos < 25) and (yPos == 4) then\\\
        print(\\\"program will exit\\\")\\\
        sleep(1)\\\
        break\\\
    end\\\
end\\\
end\\\
\\\
function DrawMainMenu()\\\
    term.clear()\\\
    term.setCursorPos(1,1)\\\
    print(\\\"                   Explore                  \\\"..josVersion)\\\
    print(\\\"                 Open program                     \\\")\\\
    print(\\\"                   Settings                      \\\")\\\
    print(\\\"                    Exit                          \\\")\\\
    print(\\\"___________________________________________________\\\")\\\
end\\\
\\\
function Explorer(task)\\\
  shell.run(\\\"/usr/bin/Explorer.lua\\\")\\\
end\\\
\\\
\\\
\\\
function updateOS()\\\
	if fs.exists(\\\"/JsquadOS\\\") then	\\\
		fs.delete(\\\"/JsquadOS\\\")\\\
	end\\\
	shell.run(\\\"pastebin get \\\"..jsquadosPastebinCode..\\\" /JsquadOS\\\")\\\
	print(\\\"\\\")\\\
	shell.run(\\\"reboot\\\")\\\
end\\\
\\\
MainMenuBtns()\",\
  },\
  usr = {\
    bin = {\
      [ \"Explorer.lua\" ] = \"function editTool(dir)\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"Open in new tab\\\")\\\
	print(\\\"Open with..\\\")\\\
	print(\\\"Copy\\\")\\\
	print(\\\"Cut\\\")\\\
	print(\\\"Paste\\\")\\\
	print(\\\"Delete\\\")\\\
	print(\\\"Edit\\\")\\\
	print(\\\"Rename\\\")\\\
	print(\\\"Create File\\\")\\\
	print(\\\"Create Folder\\\")\\\
	local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
	if (xPos > 0 and xPos <= 15) and (yPos == 1) then              --open in new tab\\\
		print(shell.resolve(dir))\\\
		sleep(1)\\\
        shell.openTab(dir)\\\
        print(\\\"after open\\\")\\\
		sleep(2)\\\
	elseif (xPos > 0 and xPos <= 15) and (yPos == 2) then          --open with..\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"Please enter program: \\\")\\\
		local sProg = read()\\\
		write(\\\"Please enter extra params: \\\")\\\
		local exParams = read()\\\
			shell.run(\\\"/Programs/\\\"..sProg..\\\" \\\" ..dir..\\\" \\\"..exParams)\\\
  elseif (xPos > 0 and xPos < 5) and (yPos == 3) then             --copy\\\
	  if fs.exists(\\\"/tmp/clipBoardContents\\\") then\\\
	     fs.delete(\\\"/tmp/clipBoardContents\\\")\\\
	  end\\\
	  if fs.exists(\\\"/tmp/clipBoardContentsName\\\") then\\\
	     fs.delete(\\\"/tmp/clipBoardContentsName\\\")\\\
	  end\\\
	  fs.copy(shell.resolve(dir),\\\"/tmp/clipBoardContents\\\")\\\
	  local tFile = fs.open(\\\"/tmp/clipBoardContentsName\\\",\\\"w\\\")\\\
	  tFile.write(dir)\\\
	  tFile.close()  \\\
	elseif (xPos > 0 and xPos < 5) and (yPos == 4) then              --cut\\\
	  if fs.exists(\\\"/tmp/clipBoardContents\\\") then\\\
       fs.delete(\\\"/tmp/clipBoardContents\\\")\\\
    end\\\
    if fs.exists(\\\"/tmp/clipBoardContentsName\\\") then\\\
       fs.delete(\\\"/tmp/clipBoardContentsName\\\")\\\
    end\\\
    fs.copy(shell.resolve(dir),\\\"/tmp/clipBoardContents\\\")\\\
    fs.delete(shell.dir()..\\\"/\\\"..dir)\\\
    local tFile = fs.open(\\\"/tmp/clipBoardContentsName\\\",\\\"w\\\")\\\
    tFile.write(dir)\\\
    tFile.close()  \\\
	elseif (xPos > 0 and xPos < 6) and (yPos == 5) then              --paste\\\
	  local tFile = fs.open(\\\"/tmp/clipBoardContentsName\\\",\\\"r\\\")\\\
	  fs.copy(\\\"/tmp/clipBoardContents\\\",shell.dir()..\\\"/\\\"..tFile.readAll())\\\
	  tFile.close()\\\
		\\\
	elseif (xPos > 0 and xPos < 7) and (yPos == 6) then              --delete\\\
		fs.delete(shell.dir()..\\\"/\\\"..dir)\\\
	elseif (xPos > 0 and xPos <= 4) and (yPos == 7) then             --edit\\\
        shell.run(\\\"edit \\\" ..dir)\\\
	elseif (xPos > 0 and xPos <= 6) and (yPos == 8) then             --rename\\\
        local orgF = shell.resolve(dir)\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"Rename from \\\"..dir..\\\" to:\\\")\\\
		local newF = shell.resolve(read())\\\
		fs.move(orgF,newF)\\\
	elseif (xPos > 0 and xPos <= 11) and (yPos == 9) then            --create file\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"File Name:\\\")\\\
		local myFile = fs.open(shell.dir()..\\\"/\\\"..read(),\\\"w\\\")\\\
		myFile.close()\\\
		\\\
	elseif (xPos > 0 and xPos <= 13) and (yPos == 10) then           --create folder\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"Name:\\\")\\\
		fs.makeDir(shell.dir()..\\\"/\\\"..read())\\\
    end\\\
\\\
end\\\
\\\
function explorer()\\\
while true do\\\
    n = 0\\\
    term.clear()\\\
    term.setCursorPos(1,1)\\\
    local FileList = fs.list(shell.dir()) \\\
    for i, file in ipairs(FileList) do\\\
  if fs.isDir(shell.resolve(file)) then\\\
    term.setTextColor(colors.yellow)\\\
  else\\\
    term.setTextColor(colors.white)\\\
  end\\\
        print(file)\\\
        aList[i] = file\\\
        n = i\\\
        if i == 16 then\\\
            break\\\
        end\\\
    end\\\
    term.setTextColor(colors.white)\\\
        \\\
\\\
    print(\\\"/\\\")\\\
    print(\\\"X\\\")\\\
    n = n+1;\\\
    aList[n] = \\\"..\\\";\\\
    n = n+1;\\\
    aList[n] = \\\"X\\\";\\\
    \\\
    local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
  if button == 1 then\\\
    if aList[yPos] ~= nil then\\\
      if aList[yPos] == \\\"X\\\" then\\\
        break\\\
      elseif aList[yPos] == \\\"..\\\" then\\\
        shell.run(\\\"cd \\\"..aList[yPos])\\\
      end\\\
      if fs.isDir(shell.resolve(aList[yPos])) and aList[yPos] ~= \\\"..\\\" then\\\
        shell.run(\\\"cd \\\"..aList[yPos]) \\\
      end \\\
      if task ~= nil then\\\
          shell.run(task ..\\\" \\\"..aList[yPos])\\\
      else\\\
        shell.run(aList[yPos])\\\
      end\\\
    end\\\
  elseif button == 2 then\\\
    if aList[yPos] ~= nil then\\\
      if (aList[yPos] ~= \\\"X\\\") and (aList[yPos] ~= \\\"/\\\") then\\\
        editTool(aList[yPos])\\\
      end\\\
    end\\\
  end\\\
end\\\
end\\\
explorer()\",\
      Compress = \"--[[\\\
	Filesystem\\\
	explorer\\\
	by Creator\\\
]]--\\\
local args = {...}\\\
\\\
local filesystem = {}\\\
\\\
local function readFile(path)\\\
	local file = fs.open(path,\\\"r\\\")\\\
	local variable = file.readAll()\\\
	file.close()\\\
	return variable\\\
end\\\
\\\
local function explore(dir)\\\
	local buffer = {}\\\
	local sBuffer = fs.list(dir)\\\
	for i,v in pairs(sBuffer) do\\\
		sleep(0.05)\\\
		if fs.isDir(dir..\\\"/\\\"..v) then\\\
			if v ~= \\\".git\\\" and v ~= \\\"rom\\\" then\\\
				print(\\\"Compressing directory: \\\"..dir..\\\"/\\\"..v)\\\
				buffer[v] = explore(dir..\\\"/\\\"..v)\\\
			end\\\
		else\\\
			print(\\\"Compressing file: \\\"..dir..\\\"/\\\"..v)\\\
			buffer[v] = readFile(dir..\\\"/\\\"..v)\\\
		end\\\
	end\\\
	return buffer\\\
end\\\
\\\
append = [[\\\
local function writeFile(path,content)\\\
	local file = fs.open(path,\\\"w\\\")\\\
	file.write(content)\\\
	file.close()\\\
end\\\
function writeDown(input,dir)\\\
		for i,v in pairs(input) do\\\
		if type(v) == \\\"table\\\" then\\\
			writeDown(v,dir..\\\"/\\\"..i)\\\
		elseif type(v) == \\\"string\\\" then\\\
			writeFile(dir..\\\"/\\\"..i,v)\\\
		end\\\
	end\\\
end\\\
\\\
args = {...}\\\
if #args == 0 then\\\
	print(\\\"Please input a destination folder.\\\")\\\
else\\\
	writeDown(inputTable,args[1])\\\
end\\\
\\\
]]\\\
\\\
local filesystem = explore(args[1])\\\
local file = fs.open(args[2],\\\"w\\\")\\\
file.write(\\\"inputTable = \\\"..textutils.serialize(filesystem)..\\\"\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\"..append)\\\
file.close()\",\
      Share = \"local tArgs = { ... }\\\
\\\
rednet.open(\\\"left\\\")\\\
receiverID = \\\"\\\"\\\
sendContents = \\\"\\\"\\\
receiveName = \\\"\\\"\\\
fileName = \\\"\\\"\\\
\\\
\\\
function Menu()\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"send file\\\")\\\
	print(\\\"receive file\\\")\\\
	local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
	if (yPos == 1) then\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		print(\\\"Enter file to send\\\")\\\
		tArgs[1] = read()\\\
		print(\\\"Enter receiver ID\\\") 	\\\
		receiverID = read()\\\
	end\\\
	if (yPos == 2) then\\\
		receive()	\\\
	end\\\
\\\
end\\\
\\\
function send()\\\
	print(\\\"In send function\\\")\\\
	local sIDs , sMssge , sDst = \\\"\\\"\\\
	local myFileS = fs.open(shell.resolve(tArgs[1]),\\\"r\\\")\\\
	sendContents = myFileS.readAll()\\\
	myFileS.close()\\\
	while true do \\\
		rednet.send(tonumber(receiverID),sendContents)\\\
		print(\\\"send attempted\\\")\\\
		sIDs,sMssge,sDst = rednet.receive(4)\\\
		if sIDs == tonumber(receiverID) and sMssge == \\\"Successful\\\" then\\\
			print(\\\"Successful\\\")\\\
			sleep(1)\\\
			break\\\
		end\\\
		\\\
	end\\\
end\\\
\\\
function receive()\\\
	local myFileR = fs.open(shell.dir()..\\\"/\\\"..\\\"temp\\\",\\\"w\\\")\\\
	local sID ,sMssge, sDst = rednet.receive()\\\
	myFileR.write(sMssge)\\\
	myFileR.close()\\\
	sleep(2)\\\
	rednet.send(tonumber(sID),\\\"Successful\\\")\\\
end\\\
\\\
if #tArgs > 0 then\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"enter receiver id\\\")\\\
	receiverID = read()	\\\
	send()\\\
end\\\
if #tArgs == 0 then\\\
	Menu()\\\
end\",\
      pastyBin = \"key = \\\"\\\"\\\
devKey = \\\"\\\"\\\
userName = \\\"\\\"\\\
password = \\\"\\\"\\\
function login()\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"Logging in..\\\")\\\
	local response = http.post(\\\
		\\\"http://pastebin.com/api/api_login.php\\\",\\\
		\\\"api_dev_key=\\\".. textutils.urlEncode(devKey)..\\\
		\\\"&api_user_name=\\\"..textutils.urlEncode(userName)..\\\
		\\\"&api_user_password=\\\"..textutils.urlEncode(password)\\\
	)\\\
	key = response.readAll()\\\
end\\\
function getPrograms()\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	print(\\\"Downloading pastebin list..\\\")\\\
	response = http.post(\\\
		\\\"http://pastebin.com/api/api_post.php\\\",\\\
		\\\"api_option=list\\\"..\\\
		\\\"&api_dev_key=\\\"..textutils.urlEncode(devKey)..\\\
		\\\"&api_user_key=\\\"..textutils.urlEncode(key)..\\\
		\\\"&api_results_limit=100\\\"\\\
	)\\\
	line = response.readAll()\\\
    local lsPrograms = {}                   -- table to store the indices\\\
    local i = 0\\\
	local e = 0\\\
	while true do\\\
		i,e = string.find(line,\\\"<paste_title>\\\",i+1)\\\
		if i == nil then break end\\\
		sWord = line:sub(e+1,string.find(line,\\\"</paste_title>\\\",i+1)-1)\\\
		table.insert(lsPrograms, sWord)\\\
	end\\\
	i = 0\\\
	e = 0\\\
	count = 1 \\\
    while true do\\\
    i,e = string.find(line, \\\"<paste_key>\\\", i+1)    -- find 'next' newline\\\
      if i == nil then break end\\\
      lsPrograms[count] = lsPrograms[count] ..\\\",\\\"..line:sub(e+1,e+8)\\\
	  count = count +1\\\
    end\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	aListName = {}\\\
	aListPastebinCode = {}\\\
	i = 1\\\
	while true do\\\
		if lsPrograms[i] == nil then\\\
			break\\\
		end\\\
		aListName[i] = lsPrograms[i]:sub(1, string.find(lsPrograms[i],\\\",\\\")-1)\\\
		aListPastebinCode[i] = lsPrograms[i]:sub(string.find(lsPrograms[i],\\\",\\\")+1 , string.len(lsPrograms[i]))\\\
		print(aListName[i])\\\
		i = i + 1\\\
		\\\
	end\\\
	local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
	if aListName[yPos] ~= null then\\\
		shell.run(\\\"pastebin get \\\" ..aListPastebinCode[yPos] ..\\\" \\\"..aListName[yPos])\\\
	end\\\
	\\\
end\\\
function putProgram()\\\
	term.clear()\\\
	term.setCursorPos(1,1)\\\
	write(\\\"Please enter program path\\\")\\\
	sPath = io.read()\\\
	local sName = fs.getName( sPath )\\\
	if fs.exists(sPath) then\\\
		local file = fs.open( sPath, \\\"r\\\" )\\\
		local sText = file.readAll()\\\
		file.close()\\\
		send = \\\"api_option=paste&api_dev_key=\\\"..textutils.urlEncode(devKey)..\\\"&api_paste_code=\\\"..textutils.urlEncode(sText)..\\\"&api_paste_private=1&api_paste_name=\\\"..textutils.urlEncode(sName)..\\\"&api_paste_expire_date=N&api_user_key=\\\"..textutils.urlEncode(key)\\\
		local response = http.post(\\\"http://pastebin.com/api/api_post.php\\\",send)\\\
		print(response)\\\
		sleep(2)\\\
	end\\\
	\\\
end\\\
function interface()\\\
	myFile = null\\\
	if not fs.exists(shell.dir()..\\\"/pastyLogin.cfg\\\") then\\\
		myFile = fs.open(shell.dir()..\\\"/pastyLogin.cfg\\\",\\\"w\\\")\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		write(\\\"Please enter username: \\\")\\\
		userName = io.read()\\\
		write(\\\"Please enter password: \\\")\\\
		password = io.read()\\\
		write(\\\"Please enter dev api key : \\\")\\\
		devKey = io.read()\\\
		myFile.writeLine(userName)\\\
		myFile.writeLine(password)\\\
		myFile.writeLine(devKey)\\\
	else \\\
		myFile = fs.open(shell.dir()..\\\"/pastyLogin.cfg\\\",\\\"r\\\")\\\
		userName = myFile.readLine()\\\
		lol = myFile.readLine\\\
		password = myFile.readLine()\\\
		devKey = myFile.readLine()\\\
	end\\\
	myFile.close()\\\
	\\\
	while true do\\\
		term.clear()\\\
		term.setCursorPos(1,1)\\\
		print(\\\"Login\\\")\\\
		print(\\\"View pastes\\\")\\\
		print(\\\"Upload paste\\\")	\\\
		print(\\\"Exit\\\")\\\
		local event, button, xPos, yPos = os.pullEvent(\\\"mouse_click\\\")\\\
		if yPos == 1 then\\\
			login()\\\
		end\\\
		if yPos == 2 then\\\
			getPrograms()\\\
		end\\\
		if yPos == 3 then\\\
			putProgram()\\\
		end\\\
		if yPos == 4 then\\\
			break\\\
		end\\\
	end\\\
end\\\
\\\
if fs.exists(shell.resolve(\\\"pastyLogin.cfg\\\")) then\\\
	login()\\\
end\\\
interface()\",\
      [ \"pastyLogin.cfg\" ] = \"Jsquad11\\\
wesfzxc\\\
0cb985004bff870df555601089560890\",\
      SendFile = \"print(\\\"enter the name of file\\\")\\\
file = read()\\\
print(\\\"enter ID\\\")\\\
id = read()\\\
\\\
local file = fs.open(file, \\\"r\\\")\\\
file = file.readAll()\\\
fileContents = textutils.serialize(file)\\\
rednet.open(\\\"back\\\")\\\
id = tonumber(id)\\\
rednet.send(id, fileContents)\",\
    },\
  },\
}\
\
\
\
\
\
\
\
\
local function writeFile(path,content)\
	local file = fs.open(path,\"w\")\
	file.write(content)\
	file.close()\
end\
function writeDown(input,dir)\
		for i,v in pairs(input) do\
		if type(v) == \"table\" then\
			writeDown(v,dir..\"/\"..i)\
		elseif type(v) == \"string\" then\
			writeFile(dir..\"/\"..i,v)\
		end\
	end\
end\
\
args = {...}\
if #args == 0 then\
	print(\"Please input a destination folder.\")\
else\
	writeDown(inputTable,args[1])\
end",
      },
      Desktop = {
        lol = "1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
5bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
        startup = "shell.run(\"/bin/loadApi.lua\")\
shell.run(\"/boot/JsquadOS.lua\")",
      },
      Pictures = {
        lol = "1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
5bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
        k = "0000000000222222222233333333334444444444111111111\
\
\
\
\
 1111 1111 1111 1111 1111 1111 1111 1111 1111 111",
      },
    },
  },
  startup = "shell.run(\"/bin/loadApi.lua\")\
shell.run(\"/boot/JsquadOS.lua\")",
  etc = {
    [ "jos.cfg" ] = "",
  },
  tmp = {
    clipBoardContentsName = "lol",
    clipBoardContents = "1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
1111111111111111111111111111111111111111111111111\
5bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
  },
  bin = {
    [ "loadApi.lua" ] = "\
local FileList = fs.list(\"/bin/api\")\
for i, file in ipairs(FileList) do\
	os.loadAPI(\"/bin/api/\"..file)\
	print(\"/bin/api/\"..file)\
end",
    api = {
      jos = "backgroundColor = colors.purple\
\
function drawDesktop()\
	term.clear()\
	term.setCursorPos(1,1)\
	term.setBackgroundColor(backgroundColor)\
	i = 1\
	while true do\
		if i  == 19 then\
			term.setBackgroundColor(colors.green)\
			write(\"JOS \")	\
			term.setBackgroundColor(colors.blue)\
			write(\"                                               \")\
			break\
		else\
			print(\"                                                   \")\
		end\
		i = i + 1\
	end\
	term.setBackgroundColor(colors.black)\
end\
\
function drawLabel(label,x,y,clr)\
	for i = 1,3,1 do\
		term.setBackgroundColor(clr)\
		term.setCursorPos(x,y)\
		write(\"    \")\
		y=y+1\
	end	\
	term.setCursorPos(x-1,y)\
	term.setBackgroundColor(backgroundColor)\
	print(label:sub(1,6))\
end\
\
function loadDeskopFromFile(dir)\
	x , y = 2 , 2\
	fileColor = colors.white\
	local FileList = fs.list(dir)\
	for i, file in ipairs(FileList) do\
		if fs.isDir(dir..file) then\
			fileColor = colors.yellow\
		else\
			fileColor = colors.white	\
		end\
		drawLabel(file,x,y,fileColor)\
		if x == 44 then \
			y = y + 5\
			x = 2\
		else\
			x = x + 7\
		end\
	end\
end\
\
function getPressedButton(dir)\
	f = {}\
	local loadedLabels = {}\
	x , y = 2 , 2\
	fileColor = colors.white\
	local FileList = fs.list(dir)\
	for i, file in ipairs(FileList) do\
		loadedLabels[i]= file\
		f[file..\"x\"] = x\
		f[file..\"y\"] = y\
		if x == 44 then \
			y = y + 5\
			x = 2\
		else\
			x = x + 7\
		end\
	end\
	local event, button, xPos, yPos = os.pullEvent(\"mouse_click\")\
	i = 1\
	while loadedLabels[i] ~= null do\
		if (xPos >= f[loadedLabels[i]..\"x\"] and xPos <= f[loadedLabels[i]..\"x\"] + 4 ) and (yPos >= f[loadedLabels[i]..\"y\"] and yPos <=       f[loadedLabels[i]..\"y\"] + 4 ) then\
			return loadedLabels[i],button\
		end\
		i = i + 1\
	end\
		\
		\
	\
end",
      enc = "local function zfill(N)\
	N=string.format(\"%X\",N)\
	Zs=\"\"\
	if #N==1 then\
		Zs=\"0\"\
	end\
	return Zs..N\
end\
\
local function serializeImpl(t)	\
	local sType = type(t)\
	if sType == \"table\" then\
		local lstcnt=0\
		for k,v in pairs(t) do\
			lstcnt = lstcnt + 1\
		end\
		local result = \"{\"\
		local aset=1\
		for k,v in pairs(t) do\
			if k==aset then\
				result = result..serializeImpl(v)..\",\"\
				aset=aset+1\
			else\
				result = result..(\"[\"..serializeImpl(k)..\"]=\"..serializeImpl(v)..\",\")\
			end\
		end\
		result = result..\"}\"\
		return result\
	elseif sType == \"string\" then\
		return string.format(\"%q\",t)\
	elseif sType == \"number\" or sType == \"boolean\" or sType == \"nil\" then\
		return tostring(t)\
	elseif sType == \"function\" then\
		local status,data=pcall(string.dump,t)\
		if status then\
			return 'func('..string.format(\"%q\",data)..')'\
		else\
			error()\
		end\
	else\
		error()\
	end\
end\
\
local function split(T,func)\
	if func then\
		T=func(T)\
	end\
	local Out={}\
	if type(T)==\"table\" then\
		for k,v in pairs(T) do\
			Out[split(k)]=split(v)\
		end\
	else\
		Out=T\
	end\
	return Out\
end\
\
local function serialize( t )\
	t=split(t)\
	return serializeImpl( t, tTracking )\
end\
\
local function unserialize( s )\
	local func, e = loadstring( \"return \"..s, \"serialize\" )\
	local funcs={}\
	if not func then\
		return e\
	end\
	setfenv( func, {\
		func=function(S)\
			local new={}\
			funcs[new]=S\
			return new\
		end,\
	})\
	return split(func(),function(val)\
		if funcs[val] then\
			return loadstring(funcs[val])\
		else\
			return val\
		end\
	end)\
end\
\
local function sure(N,n)\
	if (l2-n)<1 then N=\"0\" end\
	return N\
end\
\
local function splitnum(S)\
	Out=\"\"\
	for l1=1,#S,2 do\
		l2=(#S-l1)+1\
		CNum=tonumber(\"0x\"..sure(string.sub(S,l2-1,l2-1),1) .. sure(string.sub(S,l2,l2),0))\
		Out=string.char(CNum)..Out\
	end\
	return Out\
end\
\
local function wrap(N)\
	return N-(math.floor(N/256)*256)\
end\
\
function checksum(S,num)\
	local sum=0\
	for char in string.gmatch(S,\".\") do\
		for l1=1,(num or 1) do\
			math.randomseed(string.byte(char)+sum)\
			sum=sum+math.random(0,9999)\
		end\
	end\
	math.randomseed(sum)\
	return sum\
end\
\
local function genkey(len,psw)\
	checksum(psw)\
	local key={}\
	local tKeys={}\
	for l1=1,len do\
		local num=math.random(1,len)\
		while tKeys[num] do\
			num=math.random(1,len)\
		end\
		tKeys[num]=true\
		key[l1]={num,math.random(0,255)}\
	end\
	return key\
end\
\
function encrypt(data,psw)\
	data=serialize(data)\
	local chs=checksum(data)\
	local key=genkey(#data,psw)\
	local out={}\
	local cnt=1\
	for char in string.gmatch(data,\".\") do\
		table.insert(out,key[cnt][1],zfill(wrap(string.byte(char)+key[cnt][2])),chars)\
		cnt=cnt+1\
	end\
	return string.sub(serialize({chs,table.concat(out)}),2,-3)\
end\
\
function decrypt(data,psw)\
	local oData=data\
	data=unserialize(\"{\"..data..\"}\")\
	if type(data)~=\"table\" then\
		return oData\
	end\
	local chs=data[1]\
	data=data[2]\
	local key=genkey((#data)/2,psw)\
	local sKey={}\
	for k,v in pairs(key) do\
		sKey[v[1]]={k,v[2]}\
	end\
	local str=splitnum(data)\
	local cnt=1\
	local out={}\
	for char in string.gmatch(str,\".\") do\
		table.insert(out,sKey[cnt][1],string.char(wrap(string.byte(char)-sKey[cnt][2])))\
		cnt=cnt+1\
	end\
	out=table.concat(out)\
	if checksum(out or \"\")==chs then\
		return unserialize(out)\
	end\
	return oData,out,chs\
end",
      gui = "",
    },
  },
  boot = {
    [ "JsquadOS.lua" ] = "aList = {}\
jsquadosPastebinCode = \"w93AaBmB\";\
josVersion = \"v1.01\"\
\
function settings()\
  term.clear()\
  term.setCursorPos(1,1)\
  print(\"Set default apps\")\
  print(\"exit\")\
  \
  local event, button, xPos, yPos = os.pullEvent(\"mouse_click\")\
 \
end\
\
function MainMenuBtns()\
DrawMainMenu()\
while true do\
    local event, button, xPos, yPos = os.pullEvent(\"mouse_click\")\
\
    if (xPos > 17 and xPos < 25) and (yPos == 1) then \
        Explorer()\
        DrawMainMenu()\
    end\
\
    if (xPos > 15 and xPos < 28) and (yPos == 2) then \
        print(\"Enter a program\")\
        shell.openTab(read())\
        DrawMainMenu()\
    end\
\
    if (xPos > 18 and xPos < 31) and (yPos == 3) then\
		settings()\
		DrawMainMenu()\
    end\
    if (xPos > 20 and xPos < 25) and (yPos == 4) then\
        print(\"program will exit\")\
        sleep(1)\
        break\
    end\
end\
end\
\
function DrawMainMenu()\
--    term.clear()\
--    term.setCursorPos(1,1)\
--    print(\"                   Explore                  \"..josVersion)\
--    print(\"                 Open program                     \")\
--    print(\"                   Settings                      \")\
--    print(\"                    Exit                          \")\
--    print(\"___________________________________________________\")\
	local fileToLoad = \"/home/joshua/\"\
	local file = null\
	while true do \
		jos.drawDesktop()\
		jos.loadDeskopFromFile(fileToLoad)\
		local file ,button = jos.getPressedButton(fileToLoad)\
		if fs.isDir(fileToLoad..file) then\
			print(button)\
			sleep(1)\
			shell.run(\"cd \"..fileToLoad..file)\
			shell.run(\"/usr/bin/Explorer.lua\")\
		end \
\
	end\
	\
end\
\
function Explorer(task)\
  shell.run(\"/usr/bin/Explorer.lua\")\
end\
\
\
\
function updateOS()\
	if fs.exists(\"/JsquadOS\") then	\
		fs.delete(\"/JsquadOS\")\
	end\
	shell.run(\"pastebin get \"..jsquadosPastebinCode..\" /JsquadOS\")\
	print(\"\")\
	shell.run(\"reboot\")\
end\
\
--MainMenuBtns()\
DrawMainMenu()",
  },
  usr = {
    bin = {
      [ "Explorer.lua" ] = "function editTool(dir)\
	term.clear()\
	term.setCursorPos(1,1)\
	term.setTextColor(colors.green)\
	term.setBackgroundColor(colors.blue)\
	print(\"open\")\
	print(\"Open with..\")\
	print(\"Copy\")\
	print(\"Cut\")\
	print(\"Paste\")\
	print(\"Delete\")\
	print(\"Edit\")\
	print(\"Rename\")\
	print(\"Create File\")\
	print(\"Create Folder\")\
	local event, button, xPos, yPos = os.pullEvent(\"mouse_click\")\
	if (xPos > 0 and xPos <= 15) and (yPos == 1) then              --open in new tab\
		print(shell.resolve(dir))\
		sleep(1)\
        shell.openTab(dir)\
        print(\"after open\")\
		sleep(2)\
	elseif (xPos > 0 and xPos <= 15) and (yPos == 2) then          --open with..\
		term.clear()\
		term.setCursorPos(1,1)\
		write(\"Please enter program: \")\
		local sProg = read()\
		write(\"Please enter extra params: \")\
		local exParams = read()\
			shell.run(\"/Programs/\"..sProg..\" \" ..dir..\" \"..exParams)\
  elseif (xPos > 0 and xPos < 5) and (yPos == 3) then             --copy\
	  if fs.exists(\"/tmp/clipBoardContents\") then\
	     fs.delete(\"/tmp/clipBoardContents\")\
	  end\
	  if fs.exists(\"/tmp/clipBoardContentsName\") then\
	     fs.delete(\"/tmp/clipBoardContentsName\")\
	  end\
	  fs.copy(shell.resolve(dir),\"/tmp/clipBoardContents\")\
	  local tFile = fs.open(\"/tmp/clipBoardContentsName\",\"w\")\
	  tFile.write(dir)\
	  tFile.close()  \
	elseif (xPos > 0 and xPos < 5) and (yPos == 4) then              --cut\
	  if fs.exists(\"/tmp/clipBoardContents\") then\
       fs.delete(\"/tmp/clipBoardContents\")\
    end\
    if fs.exists(\"/tmp/clipBoardContentsName\") then\
       fs.delete(\"/tmp/clipBoardContentsName\")\
    end\
    fs.copy(shell.resolve(dir),\"/tmp/clipBoardContents\")\
    fs.delete(shell.dir()..\"/\"..dir)\
    local tFile = fs.open(\"/tmp/clipBoardContentsName\",\"w\")\
    tFile.write(dir)\
    tFile.close()  \
	elseif (xPos > 0 and xPos < 6) and (yPos == 5) then              --paste\
	  local tFile = fs.open(\"/tmp/clipBoardContentsName\",\"r\")\
	  fs.copy(\"/tmp/clipBoardContents\",shell.dir()..\"/\"..tFile.readAll())\
	  tFile.close()\
		\
	elseif (xPos > 0 and xPos < 7) and (yPos == 6) then              --delete\
		fs.delete(shell.dir()..\"/\"..dir)\
	elseif (xPos > 0 and xPos <= 4) and (yPos == 7) then             --edit\
        shell.run(\"edit \" ..dir)\
	elseif (xPos > 0 and xPos <= 6) and (yPos == 8) then             --rename\
        local orgF = shell.resolve(dir)\
		term.clear()\
		term.setCursorPos(1,1)\
		write(\"Rename from \"..dir..\" to:\")\
		local newF = shell.resolve(read())\
		fs.move(orgF,newF)\
	elseif (xPos > 0 and xPos <= 11) and (yPos == 9) then            --create file\
		term.clear()\
		term.setCursorPos(1,1)\
		write(\"File Name:\")\
		local myFile = fs.open(shell.dir()..\"/\"..read(),\"w\")\
		myFile.close()\
		\
	elseif (xPos > 0 and xPos <= 13) and (yPos == 10) then           --create folder\
		term.clear()\
		term.setCursorPos(1,1)\
		write(\"Name:\")\
		fs.makeDir(shell.dir()..\"/\"..read())\
    end\
\
end\
\
function explorer()\
while true do\
    n = 0\
    term.clear()\
    term.setCursorPos(1,1)\
    local FileList = fs.list(shell.dir()) \
    for i, file in ipairs(FileList) do\
  if fs.isDir(shell.resolve(file)) then\
    term.setTextColor(colors.yellow)\
  else\
    term.setTextColor(colors.white)\
  end\
        print(file)\
        aList[i] = file\
        n = i\
        if i == 16 then\
            break\
        end\
    end\
    term.setTextColor(colors.white)\
        \
\
    print(\"/\")\
    print(\"X\")\
    n = n+1;\
    aList[n] = \"..\";\
    n = n+1;\
    aList[n] = \"X\";\
    \
    local event, button, xPos, yPos = os.pullEvent(\"mouse_click\")\
  if button == 1 then\
    if aList[yPos] ~= nil then\
      if aList[yPos] == \"X\" then\
        break\
      elseif aList[yPos] == \"..\" then\
        shell.run(\"cd \"..aList[yPos])\
      end\
      if fs.isDir(shell.resolve(aList[yPos])) and aList[yPos] ~= \"..\" then\
        shell.run(\"cd \"..aList[yPos]) \
      end \
      if task ~= nil then\
          shell.run(task ..\" \"..aList[yPos])\
      else\
        shell.run(aList[yPos])\
      end\
    end\
  elseif button == 2 then\
    if aList[yPos] ~= nil then\
      if (aList[yPos] ~= \"X\") and (aList[yPos] ~= \"/\") then\
        editTool(aList[yPos])\
      end\
    end\
  end\
end\
end\
explorer()",
      Compress = "--[[\
	Filesystem\
	explorer\
	by Creator\
]]--\
local args = {...}\
\
local filesystem = {}\
\
local function readFile(path)\
	local file = fs.open(path,\"r\")\
	local variable = file.readAll()\
	file.close()\
	return variable\
end\
\
local function explore(dir)\
	local buffer = {}\
	local sBuffer = fs.list(dir)\
	for i,v in pairs(sBuffer) do\
		sleep(0.05)\
		if fs.isDir(dir..\"/\"..v) then\
			if v ~= \".git\" and v ~= \"rom\" then\
				print(\"Compressing directory: \"..dir..\"/\"..v)\
				buffer[v] = explore(dir..\"/\"..v)\
			end\
		else\
			print(\"Compressing file: \"..dir..\"/\"..v)\
			buffer[v] = readFile(dir..\"/\"..v)\
		end\
	end\
	return buffer\
end\
\
append = [[\
local function writeFile(path,content)\
	local file = fs.open(path,\"w\")\
	file.write(content)\
	file.close()\
end\
function writeDown(input,dir)\
		for i,v in pairs(input) do\
		if type(v) == \"table\" then\
			writeDown(v,dir..\"/\"..i)\
		elseif type(v) == \"string\" then\
			writeFile(dir..\"/\"..i,v)\
		end\
	end\
end\
\
args = {...}\
if #args == 0 then\
	print(\"Please input a destination folder.\")\
else\
	writeDown(inputTable,args[1])\
end\
\
]]\
\
local filesystem = explore(args[1])\
local file = fs.open(args[2],\"w\")\
file.write(\"inputTable = \"..textutils.serialize(filesystem)..\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\"..append)\
file.close()",
      Share = "local tArgs = { ... }\
\
rednet.open(\"left\")\
receiverID = \"\"\
sendContents = \"\"\
receiveName = \"\"\
fileName = \"\"\
\
\
function Menu()\
	term.clear()\
	term.setCursorPos(1,1)\
	print(\"send file\")\
	print(\"receive file\")\
	local event, button, xPos, yPos = os.pullEvent(\"mouse_click\")\
	if (yPos == 1) then\
		term.clear()\
		term.setCursorPos(1,1)\
		print(\"Enter file to send\")\
		tArgs[1] = read()\
		print(\"Enter receiver ID\") 	\
		receiverID = read()\
	end\
	if (yPos == 2) then\
		receive()	\
	end\
\
end\
\
function send()\
	print(\"In send function\")\
	local sIDs , sMssge , sDst = \"\"\
	local myFileS = fs.open(shell.resolve(tArgs[1]),\"r\")\
	sendContents = myFileS.readAll()\
	myFileS.close()\
	while true do \
		rednet.send(tonumber(receiverID),sendContents)\
		print(\"send attempted\")\
		sIDs,sMssge,sDst = rednet.receive(4)\
		if sIDs == tonumber(receiverID) and sMssge == \"Successful\" then\
			print(\"Successful\")\
			sleep(1)\
			break\
		end\
		\
	end\
end\
\
function receive()\
	local myFileR = fs.open(shell.dir()..\"/\"..\"temp\",\"w\")\
	local sID ,sMssge, sDst = rednet.receive()\
	myFileR.write(sMssge)\
	myFileR.close()\
	sleep(2)\
	rednet.send(tonumber(sID),\"Successful\")\
end\
\
if #tArgs > 0 then\
	term.clear()\
	term.setCursorPos(1,1)\
	print(\"enter receiver id\")\
	receiverID = read()	\
	send()\
end\
if #tArgs == 0 then\
	Menu()\
end",
      pastyBin = "key = \"\"\
devKey = \"\"\
userName = \"\"\
password = \"\"\
function login()\
	term.clear()\
	term.setCursorPos(1,1)\
	print(\"Logging in..\")\
	local response = http.post(\
		\"http://pastebin.com/api/api_login.php\",\
		\"api_dev_key=\".. textutils.urlEncode(devKey)..\
		\"&api_user_name=\"..textutils.urlEncode(userName)..\
		\"&api_user_password=\"..textutils.urlEncode(password)\
	)\
	key = response.readAll()\
end\
function getPrograms()\
	term.clear()\
	term.setCursorPos(1,1)\
	print(\"Downloading pastebin list..\")\
	response = http.post(\
		\"http://pastebin.com/api/api_post.php\",\
		\"api_option=list\"..\
		\"&api_dev_key=\"..textutils.urlEncode(devKey)..\
		\"&api_user_key=\"..textutils.urlEncode(key)..\
		\"&api_results_limit=100\"\
	)\
	line = response.readAll()\
    local lsPrograms = {}                   -- table to store the indices\
    local i = 0\
	local e = 0\
	while true do\
		i,e = string.find(line,\"<paste_title>\",i+1)\
		if i == nil then break end\
		sWord = line:sub(e+1,string.find(line,\"</paste_title>\",i+1)-1)\
		table.insert(lsPrograms, sWord)\
	end\
	i = 0\
	e = 0\
	count = 1 \
    while true do\
    i,e = string.find(line, \"<paste_key>\", i+1)    -- find 'next' newline\
      if i == nil then break end\
      lsPrograms[count] = lsPrograms[count] ..\",\"..line:sub(e+1,e+8)\
	  count = count +1\
    end\
	term.clear()\
	term.setCursorPos(1,1)\
	aListName = {}\
	aListPastebinCode = {}\
	i = 1\
	while true do\
		if lsPrograms[i] == nil then\
			break\
		end\
		aListName[i] = lsPrograms[i]:sub(1, string.find(lsPrograms[i],\",\")-1)\
		aListPastebinCode[i] = lsPrograms[i]:sub(string.find(lsPrograms[i],\",\")+1 , string.len(lsPrograms[i]))\
		print(aListName[i])\
		i = i + 1\
		\
	end\
	local event, button, xPos, yPos = os.pullEvent(\"mouse_click\")\
	if aListName[yPos] ~= null then\
		shell.run(\"pastebin get \" ..aListPastebinCode[yPos] ..\" \"..aListName[yPos])\
	end\
	\
end\
function putProgram()\
	term.clear()\
	term.setCursorPos(1,1)\
	write(\"Please enter program path\")\
	sPath = io.read()\
	local sName = fs.getName( sPath )\
	if fs.exists(sPath) then\
		local file = fs.open( sPath, \"r\" )\
		local sText = file.readAll()\
		file.close()\
		send = \"api_option=paste&api_dev_key=\"..textutils.urlEncode(devKey)..\"&api_paste_code=\"..textutils.urlEncode(sText)..\"&api_paste_private=1&api_paste_name=\"..textutils.urlEncode(sName)..\"&api_paste_expire_date=N&api_user_key=\"..textutils.urlEncode(key)\
		local response = http.post(\"http://pastebin.com/api/api_post.php\",send)\
		print(response)\
		sleep(2)\
	end\
	\
end\
function interface()\
	myFile = null\
	if not fs.exists(shell.dir()..\"/pastyLogin.cfg\") then\
		myFile = fs.open(shell.dir()..\"/pastyLogin.cfg\",\"w\")\
		term.clear()\
		term.setCursorPos(1,1)\
		write(\"Please enter username: \")\
		userName = io.read()\
		write(\"Please enter password: \")\
		password = io.read()\
		write(\"Please enter dev api key : \")\
		devKey = io.read()\
		myFile.writeLine(userName)\
		myFile.writeLine(password)\
		myFile.writeLine(devKey)\
	else \
		myFile = fs.open(shell.dir()..\"/pastyLogin.cfg\",\"r\")\
		userName = myFile.readLine()\
		lol = myFile.readLine\
		password = myFile.readLine()\
		devKey = myFile.readLine()\
	end\
	myFile.close()\
	\
	while true do\
		term.clear()\
		term.setCursorPos(1,1)\
		print(\"Login\")\
		print(\"View pastes\")\
		print(\"Upload paste\")	\
		print(\"Exit\")\
		local event, button, xPos, yPos = os.pullEvent(\"mouse_click\")\
		if yPos == 1 then\
			login()\
		end\
		if yPos == 2 then\
			getPrograms()\
		end\
		if yPos == 3 then\
			putProgram()\
		end\
		if yPos == 4 then\
			break\
		end\
	end\
end\
\
if fs.exists(shell.resolve(\"pastyLogin.cfg\")) then\
	login()\
end\
interface()",
      [ "pastyLogin.cfg" ] = "Jsquad11\
wesfzxc\
0cb985004bff870df555601089560890",
      SendFile = "print(\"enter the name of file\")\
file = read()\
print(\"enter ID\")\
id = read()\
\
local file = fs.open(file, \"r\")\
file = file.readAll()\
fileContents = textutils.serialize(file)\
rednet.open(\"back\")\
id = tonumber(id)\
rednet.send(id, fileContents)",
    },
  },
}








local function writeFile(path,content)
	local file = fs.open(path,"w")
	file.write(content)
	file.close()
end
function writeDown(input,dir)
		for i,v in pairs(input) do
		if type(v) == "table" then
			writeDown(v,dir.."/"..i)
		elseif type(v) == "string" then
			writeFile(dir.."/"..i,v)
		end
	end
end

args = {...}
if #args == 0 then
	print("Please input a destination folder.")
else
	writeDown(inputTable,args[1])
end

